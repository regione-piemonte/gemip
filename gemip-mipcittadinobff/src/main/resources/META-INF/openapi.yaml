openapi: 3.0.1
info:
  title: API mipcittadinobff
  description: Layer BFF per MIP cittadino
  version: 1.0.0
servers:
  - url: http://localhost:8081/api
    description: Local dev environment
paths:
  /area-territoriale:
    get:
      summary: elenco area territoriale
      tags:
        - area territoriale
      operationId: getAllAreaTerritoriale
      description: torna l'elenco delle area territoriale
      responses:
        '200':
          description: elenco delle area territoriale
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AreaTerritoriale"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
  /anagrafiche/anagrafica:
    get:
      summary: torna l'anagrafica del cittadino passando come parametro l'id
      tags:
        - anagrafiche
      operationId: getAnafraficaCittadinoPerId
      description: torna l'anagrafica del cittadino passando come parametro l'id
      parameters:
        - in: query
          name: idAnagraficaCittadino
          schema:
            type: integer
            format: int64
          required: true
          description: codice della provincia a cercare
      responses:
        '200':
          description: Anagrafica del cittadino
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AnagraficaCittadino"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
    post:
      summary: inserisce un'anagradica cittadino
      tags:
        - anagrafiche
      operationId: insertAnagraficaCittadino
      description: inserisce un'anagradica cittadino
      requestBody:
        description: anagrafica cittadino a inserire
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AnagraficaCittadino"
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AnagraficaCittadino"
        '405':
          description: Invalid input
    put:
      summary: modifica un'anagradica cittadino
      tags:
        - anagrafiche
      operationId: updateAnagraficaCittadino
      description: modifica un'anagradica cittadino
      requestBody:
        description:  anagrafica cittadino a modificare
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AnagraficaCittadino"
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AnagraficaCittadino"
        '405':
          description: Invalid input
  /anagrafiche/anagrafica-suggest:
    get:
      summary: torna l'anagrafica del cittadino secondo i campi SPID
      tags:
        - anagrafiche
      operationId: getAnagraficaCittadinoSpid
      description: torna l'anagrafica del cittadino ricavata dalle header SPID
      responses:
        '200':
          description: Anagrafica del cittadino
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AnagraficaCittadino"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
  /anagrafiche/condizione-occupazionale:
    get:
      summary: elenco condizione-occupazionale
      tags:
        - anagrafiche
      operationId: getCondizioneOccupazionale
      description: torna l'elenco delle condizione occupazionale
      responses:
        '200':
          description: elenco delle condizione occupazionale
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CondizioneOccupazionale"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
  /anagrafiche/titolo-studio:
    get:
      summary: elenco titolo-studio
      tags:
        - anagrafiche
      operationId: getTitoliStudio
      description: torna l'elenco dei titolo di studio
      responses:
        '200':
          description: elenco dei titolo di studio
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TitoloDiStudio"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
  /anagrafiche/svantaggi-abitativo:
    get:
      summary: elenco svantaggi-abitativo
      tags:
        - anagrafiche
      operationId: getSvantaggiAbitativo
      description: elenco svantaggi abitativo
      responses:
        '200':
          description: elenco degli svantaggi abitativo
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SvantaggioAbitativo"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'
  /anagrafiche/condizione-familiare:
    get:
      summary:
        elenco condizioni familiari
      tags:
        - anagrafiche
      operationId: getCondizioniFamiliare
      description: elenco condizoni familiari
      responses:
        '200':
          description: elenco delle condizioni familiari
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CondizioneFamiliare"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'
  /cittadini/cittadino/dashboard:
    post:
      summary: stato compilazione del cittadino
      tags:
        - cittadini
      operationId: getDashboardCittadino
      description: stato compilazione del cittadino
      requestBody:
        description: dato cittadino
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Cittadino"
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DashboardCittadino"
        '405':
          description: Invalid input
  /cittadini/cittadino/invia-dati:
    put:
      summary: cambia lo stato della idea d'impresa a inviato e invia la mail di conferma di partecipazione al'incontro
      tags:
        - cittadini
      operationId: updateIdeaImpresaInviata
      description: cambia lo stato della idea d'impresa a inviato e invia la mail di conferma di partecipazione al'incontro
      requestBody:
        description: dato cittadino
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DashboardCittadino"
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DashboardCittadino"
        '405':
          description: Invalid input
  /cittadinanze:
    get:
      summary: elenco cittadinanze
      tags:
        - dati comuni
      operationId: getCittadinanze
      description: elenco delle cittadinanze
      responses:
        '200':
          description: elenco delle cittadinanze
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Cittadinanza"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
  /comuni:
    get:
      summary: elenco province
      tags:
        - dati comuni
      operationId: getComuni
      description: elenco dei comuni
      responses:
        '200':
          description: elenco dei comuni
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Comune"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'
  /comuni/provincia:
    get:
      summary: elenco provincia
      tags:
        - dati comuni
      operationId: getComuniPerProvincia
      description: elenco delle comuni
      parameters:
        - in: query
          name: provincia
          schema:
            type: string
          required: true
          description: codice della provincia a cercare
      responses:
        '200':
          description: elenco dei comuni associate ad una provincia
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Comune"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'
  /idee-di-impresa/idea-di-impresa-cittadino:
    get:
      summary: torna l'elenco idea di impresa pasando come parametro l'id del cittadino
      tags:
        - idee di impresa
        - backoffice
      operationId: getIdeaDiImpresaByIdCittadino
      description: torna l'idea di impresa pasando come parametro l'id cittadino
      parameters:
        - in: query
          name: idCittadino
          schema:
            type: integer
            format: int64
          required: true
          description: id del cittadino
      responses:
        '200':
          description: idea di impresa
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IdeaDiImpresaRicerca"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'
  /idee-di-impresa/idea-di-impresa:
    get:
      summary: torna l'idea di impresa pasando come parametro l'id
      tags:
        - idee di impresa
      operationId: getIdeaDiImpresaById
      description: torna l'idea di impresa pasando come parametro l'id
      parameters:
        - in: query
          name: id
          schema:
            type: integer
            format: int64
          required: true
          description: id dell'idea di impresa a cercare
      responses:
        '200':
          description: l'idea di impresa dell'id pasato come parametro
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IdeaDiImpresa"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'
    post:
      summary: inserisce un'idea di impresa
      tags:
        - idee di impresa
      operationId: insertIdeaDiImpresa
      description: inserisce un'idea di impresa
      parameters:
        - in: query
          name: idCittadino
          schema:
            type: integer
            format: int64
          required: true
          description: id cittadino a collegare con l'idea di impresa
      requestBody:
        description: idea di impresa a inserire
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/IdeaDiImpresa"
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IdeaDiImpresa"
        '405':
          description: Invalid input
    put:
      summary: modifica un'idea di impresa
      tags:
        - idee di impresa
      operationId: updateIdeaDiImpresa
      description: modifica un'idea di impresa
      requestBody:
        description:  idea di impresa a modificare
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/IdeaDiImpresa"
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IdeaDiImpresa"
        '405':
          description: Invalid input
  /idee-di-impresa/fonti-conoscenza-mip:
    get:
      summary: elenco fonti conoscenza mip
      tags:
        - idee di impresa
      operationId: getFontiConoscenzaMip
      description: elenco degli fonti conoscenza mip
      responses:
        '200':
          description: elenco degli stati idea di impresa
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/FonteConoscenzaMip"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'
  /idee-di-impresa/stati-idea-di-impresa:
    get:
      summary: elenco stati idea di impresa
      tags:
        - idee di impresa
      operationId: getStatiIdeaDiImpresa
      description: elenco degli stati idea di impresa
      responses:
        '200':
          description: elenco degli stati idea di impresa
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StatoIdeaDiImpresa"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'

  /incontri-preaccoglienza/incontro-preaccoglienza-per-cittadino:
    get:
      summary: torna l'incontro di preaccoglienza relazionato al cittadino passando  l'id del cittadino come parametro
      tags:
        - incontri preaccoglienza
        - backoffice
      operationId: getIncontroPreaccoglienzaPerCittadino
      description: torna l'incontro di preaccoglienza relazionato al cittadino passando  l'id del cittadino come parametro
      parameters:
        - in: query
          name: idCittadino
          schema:
            type: integer
            format: int64
          required: true
          description: id del cittadino
      responses:
        '200':
          description: incontro preaccoglienza
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IncontroPreaccoglienza"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'

  /incontri-preaccoglienza/cittadino-incontro-preaccoglienza:
    get:
      summary: torna l'incontro di preaccoglienza relazionato al cittadino passando  l'id cittadino_incontro_preaccoglienza
      tags:
        - incontri preaccoglienza
      operationId: getCittadinoIncontroPreaccoglienza
      description: torna l'incontro di preaccoglienza relazionato al cittadino passando  l'id cittadino_incontro_preaccoglienza
      parameters:
        - in: query
          name: id
          schema:
            type: integer
            format: int64
          required: true
          description: id cittadino incontro preaccoglienza
      responses:
        '200':
          description: cittadino incontro preaccoglienza dell'id pasato come parametro
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CittadinoIncontroPreaccoglienza"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'
    post:
      summary: inserisce un'incontro di preaccoglienza relazionato al cittadino
      tags:
        - incontri preaccoglienza
      operationId: insertCittadinoIncontroPreaccoglienza
      description: inserisce un'incontro di preaccoglienza relazionato al cittadino
      requestBody:
        description: CittadinoIncontroPreaccoglienza a inserire
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CittadinoIncontroPreaccoglienza"
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CittadinoIncontroPreaccoglienza"
        '405':
          description: Invalid input
    put:
      summary: modifica un'incontro di preaccoglienza relazionato al cittadino
      tags:
        - incontri preaccoglienza
      operationId: updateCittadinoIncontroPreaccoglienza
      description: modifica un'incontro di preaccoglienza relazionato al cittadino
      requestBody:
        description:  CittadinoIncontroPreaccoglienza a modificare
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CittadinoIncontroPreaccoglienza"
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CittadinoIncontroPreaccoglienza"
        '405':
          description: Invalid input



  /incontri-preaccoglienza/incontri-preaccoglienza-disponibile:
    get:
      summary: elenco incontri preaccoglienza per mostrare al cittadino
      tags:
        - incontri preaccoglienza
      operationId: getIncontriPreaccoglienzaByAreaTerritoriale
      description: elenco incontri preaccoglienza per mostrare al cittadino per scegliere l'incontro per asistere
      parameters:
        - in: query
          name: codAreaTerritoriale
          schema:
            type: string
          required: false
          description: codice area territoriale
        - in: query
          name: completo
          schema:
            type: boolean
          default: false
          required: false
      responses:
        '200':
          description: elenco incontri preaccoglienza
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IncontroPreaccoglienza"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'




  /province:
    get:
      summary: elenco province
      tags:
        - dati comuni
      operationId: getProvince
      description: elenco delle province
      responses:
        '200':
          description: elenco delle province
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Provincia"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'
  /province/regione:
    get:
      summary: elenco province associate ad una regione
      tags:
        - dati comuni
      operationId: getProvincePerRegione
      description: elenco delle province
      parameters:
        - in: query
          name: regione
          schema:
            type: string
          required: true
          description: codice della regione a db(per il Piemonte 01)
      responses:
        '200':
          description: elenco delle province associate ad una regione
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Provincia"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'


  /stati-esteri:
    get:
      summary: elenco stati esteri
      tags:
        - dati comuni
      operationId: getStatiEsteri
      description: elenco degli StatiEsteri
      responses:
        '200':
          description: elenco degli stati esteri
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StatoEstero"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'
  /tutor:
    get:
      summary: tutor per id
      tags:
        - tutor
      operationId: getTutorPerId
      description: tutor per id tutor
      parameters:
        - in: query
          name: idTutor
          schema:
            type: integer
            format: int64
          required: true
          description: id tutor
      responses:
        '200':
          description: tutor
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tutor"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'
  /tutor/tutor-area-territoriale:
    get:
      summary: elenco tutor per mostrare al cittadino in base l'area territoriale
      tags:
        - tutor
      operationId: getTutorPerAreaTerritoriale
      description: elenco tutor per mostrare al cittadino  in base l'area territoriale
      parameters:
        - in: query
          name: codAreaTerritoriale
          schema:
            type: string
          required: false
          description: codice area territoriale
      responses:
        '200':
          description: elenco incontri preaccoglienza
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tutor"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'
  /tutor/tutorAbilitati-area-territoriale:
    get:
      summary: elenco tutor abilitati per mostrare al cittadino in base l'area territoriale
      tags:
        - tutor
      operationId: getTutorAbilitatiPerAreaTerritoriale
      description: elenco tutor abilitati per mostrare al cittadino  in base l'area territoriale
      parameters:
        - in: query
          name: codAreaTerritoriale
          schema:
            type: string
          required: false
          description: codice area territoriale
      responses:
        '200':
          description: elenco incontri preaccoglienza
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tutor"
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '403':
          $ref: '#/components/responses/Forbidden'
        default:
          description: errore generico
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Errore'
  /tutor/scelta-tutor:
    put:
      summary: aggiunge il tuttor all'idea di impresa
      tags:
        - tutor
      operationId: sceltaTutor
      description: aggiunge il tuttor all'idea di impresa ed'invia mail al cittadino e soggetto attuatore
      parameters:
        - in: query
          name: idTutor
          schema:
            type: integer
            format: int64
          required: true
          description: id cittadino a collegare con l'idea di impresa
        - in: query
          name: idImpresa
          schema:
            type: integer
            format: int64
          required: true
          description: id cittadino a collegare con l'idea di impresa
      responses:
        '200':
          description: successful operation
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IdeaDiImpresa"
        '405':
          description: Invalid input

  /questionario/fase-corrente:
    get:
      summary: Ottiene l'ID fase corrente per il cittadino
      tags:
        - Questionario
      operationId: getQuestionarioFaseCorrente
      parameters:
        - in: query
          name: idCittadino
          required: true
          schema:
            type: integer
            format: int64
          description: cf del cittadino fornito nell'header.
      responses:
        '200':
          description: ID della fase corrente per il cittadino dato.
          content:
            application/json:
              schema:
                type: number
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '404':
          description: Cittadino non trovato
        default:
          description: Errore generico
  /questionario/corrente:
    get:
      summary: Ottiene il questionario corrente basato sulla fase in cui si trova il cittadino
      tags:
        - Questionario
      operationId: getQuestionarioCorrente
      parameters:
        - in: query
          name: idCittadino
          required: true
          schema:
            type: integer
            format: int64
          description: CF del cittadino fornito nell'header.
      responses:
        '200':
          description: Questionario della fase corrente con domande e risposte.
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Questionario'
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '404':
          description: Cittadino non trovato o nessun questionario disponibile per la fase corrente
        default:
          description: Errore generico
  /questionario/{id_questionario}/risposte:
    post:
      summary: Salva le risposte del cittadino al questionario
      tags:
        - Questionario
      operationId: salvaRisposteQuestionario
      parameters:
        - in: query
          name: idCittadino
          required: true
          schema:
            type: integer
            format: int64
          description: CF del cittadino fornito nell'header.
        - in: path
          name: id_questionario
          required: true
          schema:
            type: integer
            format: int64
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: array
              items:
                $ref: '#/components/schemas/RispostaCompilazione'
      responses:
        '201':
          description: Risposte salvate con successo.
        '400':
          $ref: '#/components/responses/InvalidParameter'
        '404':
          description: Cittadino o questionario non trovato
        default:
          description: Errore generico
  /validator-test:
    post:
      tags:
        - validation
      description: validator
      operationId: testValidazione
      requestBody:
        description: test
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ValidatorTest'
        required: true
      responses:
        "200":
          description: validazione superata
        "400":
          description: validazione non superata
          content:
            application/problem+json:
              schema:
                $ref: '#/components/schemas/Errore'
  /status:
    get:
      tags:
        - system
      description: ping
      parameters:
        - in: query
          required: true
          name: test
          schema:
            type: string

      responses:
        "200":
          description: OK
          content:
            application/problem+json:
              schema:
                type: string
components:
  schemas:
    AnagraficaCittadino:
      type: object
      properties:
        id:
          type: integer
          format: int64
        cittadino:
          $ref: "#/components/schemas/Cittadino"
        dataNascita:
          type: string
          format: date-time
        comuneNascita:
          $ref: "#/components/schemas/Comune"
        numeroDocumentoIdentita:
          type: string
        documentoRilasciatoDa:
          type: string
        dataScadenzaDocumento:
          type: string
          format: date-time
        statoEsteroNascita:
          $ref: "#/components/schemas/StatoEstero"
        descrizioneCittaEsteraNascita:
          type: string
        codiceCittadinanza:
          $ref: "#/components/schemas/Cittadinanza"
        descCittadinanzaAltro:
          type: string
        comuneResidenza:
          $ref: "#/components/schemas/Comune"
        codiceStatoEsteroResidenza:
          type: integer
          format: int64
        descrizioneCittaEsteraResidenza:
          type: string
        indirizzoResidenza:
          type: string
        capResidenza:
          type: string
        comuneDomicilio:
          $ref: "#/components/schemas/Comune"
        indirizzoDomicilio:
          type: string
        capDomicilio:
          type: string
        recapitoEmail:
          type: string
        recapitoEmail2:
          type: string
        recapitoTelefono:
          type: string
        recapitoTelefono2:
          type: string
        numeroPermessoDiSoggiorno:
          type: string
        descrMotivoPermessoDiSoggiorno:
          type: string
        permessoDiSoggiornoRilasciatoDa:
          type: string
        dataScadPermessoSoggiorno:
          type: string
          format: date-time
        tipoPermessoDiSoggiorno:
          type: string
        condizioneOccupazionaleAltro:
          type: string
        codiceTitoloDiStudio:
          $ref: "#/components/schemas/TitoloDiStudio"
        titoloDiStudioAltro:
          type: string
        codiceCondizioneOccupazionale:
          $ref: "#/components/schemas/CondizioneOccupazionale"
        svantaggioAbitativo:
          $ref: "#/components/schemas/SvantaggioAbitativo"
        condizioneFamiliare:
          $ref: "#/components/schemas/CondizioneFamiliare"
        sesso:
          type: string
        flgIdeaImpresa:
          type: boolean
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    AnagraficaCittadinoRicerca:
      type: object
      properties:
        anagrafiche:
          type: array
          items:
            $ref: "#/components/schemas/AnagraficaCittadino"
        totRis:
          type: integer
          format: int64
    AreaTerritoriale:
      type: object
      properties:
        codiceAreaTerritoriale:
          type: string
        descrizioneAreaTerritoriale:
          type: string
        descrizioneBreveAreaTerritoriale:
          type: string
    Cpi:
      type: object
      properties:
        id:
          type: integer
          format: int64
        codiceCpi:
          type: string
        cpi:
          type: string
        gruppoOperatore:
          type: string
        codOperatore:
          type: number
        sede:
          type: string
        indirizzo:
          type: string
        cap:
          type: string
        codiceComune:
          type: string
        codiceProvincia:
          type: string
        telefono:
          type: string
        telefono2:
          type: string
        telefono3:
          type: string
        numeroVerde:
          type: string
        email:
          type: string
        indirizoWeb:
          type: string
    CpiOperatore:
      type: object
      properties:
        id:
          type: integer
          format: int64
        soggettoAttuatore:
          $ref: "#/components/schemas/Cpi"
        operatore:
          $ref: "#/components/schemas/Operatore"
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    Cittadinanza:
      type: object
      properties:
        codiceCittadinanza:
          type: string
        descrizione:
          type: string
        codiceNazionalita:
          $ref: "#/components/schemas/Nazionalita"
        codiceCittadinanzaOld:
          type: string
        descrizionePrecedente:
          type: string
    Cittadino:
      type: object
      properties:
        idCittadino:
          type: integer
          format: int64
        codiceFiscale:
          type: string
        cognome:
          type: string
        nome:
          type: string
    CittadinoIncontroPreaccoglienza:
      type: object
      properties:
        id:
          type: integer
          format: int64
        cittadino:
          $ref: "#/components/schemas/Cittadino"
        incontroPreaccoglienza:
          $ref: "#/components/schemas/IncontroPreaccoglienza"
        flgCittadinoPresente:
          type: string
        dAnnullamento:
          type: string
          format: date-time
        note:
          type: string
        codiceAreaTerritorialeSelezionata:
          $ref: "#/components/schemas/AreaTerritoriale"
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    CondizioneOccupazionale:
      type: object
      properties:
        codiceCondizioneOccupazionale:
          type: string
        descrizioneCondizioneOccupazionale:
          type: string
    Comune:
      type: object
      properties:
        codiceIstatComune:
          type: string
        provincia:
          $ref: "#/components/schemas/Provincia"
        descrizioneComune:
          type: string
        cap:
          type: string
        codiceFiscaleComune:
          type: string
    DashboardCittadino:
      type: object
      properties:
        cittadino:
          $ref: "#/components/schemas/Cittadino"
        idCittadinoIncontroPreacc:
          type: integer
          format: int64
        idAnagraficaCittadino:
          type: integer
          format: int64
        idIdeaDiImpresa:
          type: integer
          format: int64
        idTuttor:
          type: integer
          format: int64
        idQuestionari:
          type: integer
          format: int64
        partecipzioneIncontro:
          type: boolean
        assenzaIncontro:
          type: boolean
        registrazioneIncontro:
          type: boolean
        disdicimentoIncontro:
          type: boolean
    Documento:
      type: object
      properties:
        idDocumento:
          type: integer
          format: int64
        nomeDocumento:
          type: string
        descrizioneDocumento:
          type: string
        codeTipoDocumento:
          type: string
        documento:
          type: string
          format: binary
        idOperatoreInserimento:
          type: integer
          format: int64
        idIdeaDiImpresa:
          type: integer
          format: int64
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    Ente:
      type: object
      properties:
        id:
          type: integer
          format: int64
        descrizioneEnte:
          type: string
        gruppoOperatore:
          type: string
        codOperatore:
          type: number
        email:
          type: string
        telefono:
          type: string
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    EnteOperatore:
      type: object
      properties:
        id:
          type: integer
          format: int64
        soggettoAttuatore:
          $ref: "#/components/schemas/Ente"
        operatore:
          $ref: "#/components/schemas/Operatore"
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    EventoCalendario:
      type: object
      properties:
        idEventoCalendario:
          type: integer
          format: int64
        idFileIcs:
          type: integer
          format: int64
        dataOraInizio:
          type: string
          format: date-time
        dataOraFine:
          type: string
          format: date-time
        descrizioneEvento:
          type: string
        luogo:
          type: string
        titolo:
          type: string
        datoUid:
          type: string
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    EventoCalendarioWrapper:
      type: object
      properties:
        evento:
          $ref: "#/components/schemas/EventoCalendario"
        soggettoAttuatore:
          $ref: "#/components/schemas/SoggettoAttuatore"
        operatore:
          $ref: "#/components/schemas/Operatore"
    EventoCalendarioRicerca:
      type: object
      properties:
        eventiCalendario:
          type: array
          items:
            $ref: "#/components/schemas/EventoCalendarioWrapper"
        totRis:
          type: integer
          format: int64
    FonteConoscenzaMip:
      type: object
      properties:
        codiceFonteConoscenzaMip:
          type: string
        descrizioneFonteConoscenzaMip:
          type: string
    IdeaDiImpresa:
      type: object
      properties:
        id:
          type: integer
          format: int64
        titolo:
          type: string
        descrizioneIdeaDiImpresa:
          type: string
        flgRicambioGenerazionale:
          type: string
        flgErogazionePrimaOra:
          type: string
        fonteConoscenzaMip:
          $ref: "#/components/schemas/FonteConoscenzaMip"
        descrizioneAltraFonteConoscenzaMip:
          type: string
        statoIdeaDiImpresa:
          $ref: "#/components/schemas/StatoIdeaDiImpresa"
        dataCambioStato:
          type: string
          format: date-time
        idTutor:
          type: integer
          format: int64
        dataSceltaTutor:
          type: string
          format: date-time
        idIdeaDiImpresaSostituente:
          type: integer
          format: int64
        businessPlanValidato:
          type: boolean
        commentiInterni:
          type: string
        noteCommenti:
          type: string
        dataValidBusinessPlan:
          type: string
          format: date-time
        dataFirmaPattoServizio:
          type: string
          format: date-time
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
        sbloccoAreaTerritoriale:
          type: boolean
    IdeaDiImpresaRicerca:
      type: object
      properties:
        ideaDiImpresa:
          $ref: "#/components/schemas/IdeaDiImpresa"
        citadino:
          $ref: "#/components/schemas/Cittadino"
        areaTerritoriale:
          $ref: "#/components/schemas/AreaTerritoriale"
        tutor:
          $ref: "#/components/schemas/Tutor"
        operatore:
          $ref: "#/components/schemas/Operatore"
    IdeaDiImpresaRicercaExtended:
      allOf:
        - $ref: "#/components/schemas/IdeaDiImpresaRicerca"
        - type: object
          properties:
            cittadinoAnagrafica:
              $ref: "#/components/schemas/AnagraficaCittadino"
            utentePrincipale:
              type: string
            dataPreaccoglienza:
              type: string
              format: date-time
            sedePreaccoglienza:
              type: string
            flgIncontroTelefonico:
              type: string
    ReportQuestionario:
      type: object
      properties:
        domande:
          type: array
          items:
            type: string
        righeReportistica:
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
                format: int64
              dataInserim:
                type: string
                format: date-time
              areaTerritoriale:
                type: string
              soggettoAttuatore:
                type: string
              compilazione:
                type: array
                items:
                  $ref: '#/components/schemas/DomandeRisposte'
    DomandeRisposte:
      type: object
      properties:
        testoDomanda:
          type: string
        testoRisposta:
          type: string
        rispostaLibera:
          type: string

    IdeaDiImpresaRicercaConTotale:
      type: object
      properties:
        ideeDiImpresa:
          type: array
          items:
            $ref: "#/components/schemas/IdeaDiImpresaRicerca"
        risultatiTotali:
          type: integer
          format: int64
    IdeaDiImpresaIncontroPreaccoglienza:
      type: object
      properties:
        ideaDiImpresa:
          $ref: "#/components/schemas/IdeaDiImpresa"
        citadino:
          $ref: "#/components/schemas/CittadinoIncontroPreaccoglienza"
    IncontroPreaccoglienza:
      type: object
      properties:
        id:
          type: integer
          format: int64
        denominazione:
          type: string
        flgIncontroErogatoDaRemoto:
          type: string
        flgIncontroTelefonico:
          type: string
        linkIncontroRemoto:
          type: string
        luogoIncontro:
          $ref: "#/components/schemas/LuogoIncontro"
        operatoreCreazione:
          $ref: "#/components/schemas/Operatore"
        numMaxPartecipanti:
          type: integer
        numPartecipantiIscritti:
          type: integer
        dataIncontro:
          type: string
          format: date-time
        note:
          type: string
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    IncontroPreAccoglienzaInsert:
      type: object
      properties:
        incontroPreaccoglienza:
          $ref: "#/components/schemas/IncontroPreaccoglienza"
        areaTerritoriale:
          type: array
          items:
            $ref: "#/components/schemas/AreaTerritoriale"
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    IncontroPreaccoglienzaAreaTerritoriale:
      type: object
      properties:
        incontroPreaccoglienza:
          $ref: "#/components/schemas/IncontroPreaccoglienza"
        areaTerritoriale:
          $ref: "#/components/schemas/AreaTerritoriale"
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    IncontroPreaccoglienzaRicerca:
      type: object
      properties:
        incontriPreaccoglienza:
          type: array
          items:
            $ref: '#/components/schemas/IncontroPreaccoglienza'
        totaleIncontri:
          type: integer
          format: int64
    FileIcs:
      type: object
      properties:
        idFileIcs:
          type: integer
          format: int64
        nomeFile:
          type: string
        descrizioneFile:
          type: string
        fileIcs:
          type: string
          format: byte
        operatore:
          type: integer
          format: int64
        flgAbilitato:
          type: boolean
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    LuogoIncontro:
      type: object
      properties:
        id:
          type: integer
          format: int64
        denominazione:
          type: string
        indirizzo:
          type: string
        cap:
          type: string
        comune:
          $ref: "#/components/schemas/Comune"
        areaTerritoriale:
          $ref: "#/components/schemas/AreaTerritoriale"
    Nazionalita:
      type: object
      properties:
        codiceNazionalita:
          type: string
        codiceRegione:
          type: string
        descrizioneNazionalita:
          type: string
    Operatore:
      type: object
      properties:
        id:
          type: integer
          format: int64
        codFiscaleUtente:
          type: string
        cognome:
          type: string
        nome:
          type: string
        telefono:
          type: string
        email:
          type: string
        dataRegistrazione:
          type: string
          format: date-time
        dataDisabilitazione:
          type: string
          format: date-time
        idOperatoreDisabilitazione:
          type: integer
          format: int64
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    InfoOperatore:
      type: object
      properties:
        codDbOperatore:
          type: number
        codOperatore:
          type: integer
        descrOperatore:
          type: string
        gruppoOperatore:
          type: string
        areaTerritoriale:
          type: string
    OperatoreIncontroPreaccoglienza:
      type: object
      properties:
        idIncontroPreaccoglienza:
          type: integer
          format: int64
        idOperatore:
          type: integer
          format: int64
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    Provincia:
      type: object
      properties:
        codiceProvincia:
          type: string
        codiceRegione:
          type: string
        descrizioneProvincia:
          type: string
        siglaProvincia:
          type: string
    ResgistraPresenze:
      type: object
      properties:
        idCittadino:
          type: integer
          format: int64
        idIncotroPreaccoglienza:
          type: integer
          format: int64
        stato:
          type: string
    Ruolo:
      type: object
      properties:
        codiceDominio:
          type: string
          description: codiceDominio
        codiceRuolo:
          type: string
          description: codiceRuolo
        mnemonico:
          type: string
          description: mnemonico
        descrizione:
          type: string
          description: descrizione
        entiAssociati:
          type: array
          items:
            $ref: "#/components/schemas/InfoOperatore"
    SoggettoAffidatario:
      type: object
      properties:
        id:
          type: integer
          format: int64
        gruppoOperatore:
          type: string
        codOperatore:
          type: number
        denominazione:
          type: string
        email:
          type: string
        telefono:
          type: string
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    SoggettoAttuatore:
      type: object
      properties:
        id:
          type: integer
          format: int64
        gruppoOperatore:
          type: string
        codOperatore:
          type: integer
          format: int64
        denominazione:
          type: string
        email:
          type: string
        telefono:
          type: string
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
        dataDisabilitazione:
          type: string
          format: date-time
        codiceAreaTerritoriale:
          $ref: "#/components/schemas/AreaTerritoriale"
    SoggettoAffidatarioOperatore:
      type: object
      properties:
        id:
          type: integer
          format: int64
        soggettoAttuatore:
          $ref: "#/components/schemas/SoggettoAffidatario"
        operatore:
          $ref: "#/components/schemas/Operatore"
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    SoggettoAttuatoreOperatore:
      type: object
      properties:
        id:
          type: integer
          format: int64
        soggettoAttuatore:
          $ref: "#/components/schemas/SoggettoAttuatore"
        operatore:
          $ref: "#/components/schemas/Operatore"
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    StatoEstero:
      type: object
      properties:
        codStato:
          type: integer
          format: int64
        descrizioneStato:
          type: string
        siglaNazione:
          type: string
        statoCodFiscale:
          type: string
    StoricoCalendario:
      type: object
      properties:
        numeroEventi:
          type: integer
          format: int64
        soggettoAttuatore:
          $ref: "#/components/schemas/SoggettoAttuatore"
        operatoreInserimento:
          $ref: "#/components/schemas/Operatore"
        idDocumentoIcs:
          type: integer
          format: int64
        flgAbilitato:
          type: boolean
        nomeFile:
          type: string
        descrizioneFile:
          type: string
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    StatoIdeaDiImpresa:
      type: object
      properties:
        id:
          type: integer
          format: int64
        descrizioneStatoIdeaDiImpresa:
          type: string
    SvantaggioAbitativo:
      type: object
      properties:
        id:
          type: number
        descrizioneSvantaggioAbitativo:
          type: string
    CondizioneFamiliare:
      type: object
      properties:
        id:
          type: number
        descrCondizioneFamiliare:
          type: string
    TipoDocumento:
      type: object
      properties:
        codiceTipoDocumento:
          type: string
        descrizioneTipoDocumento:
          type: string
        dataInizio:
          type: string
          format: date-time
        dataFine:
          type: string
          format: date-time
    TitoloDiStudio:
      type: object
      properties:
        codiceTitoloDiStudio:
          type: string
        descrizioneTitoloDiStudio:
          type: string
    Tutor:
      type: object
      properties:
        id:
          type: integer
          format: int64
        soggettoAttuatore:
          $ref: "#/components/schemas/SoggettoAttuatore"
        codUserInserim:
          type: string
        dataInserim:
          type: string
          format: date-time
        codUserAggiorn:
          type: string
        dataAggiorn:
          type: string
          format: date-time
    UserInfo:
      type: object
      properties:
        nome:
          type: string
          description: nome dell'utente
        cognome:
          type: string
          description: cognome dell'utente
        codFisc:
          type: string
          description: codice fiscale dell'utente
        ente:
          type: string
          description: nome dell'ente
        ruolo:
          type: string
          description: nome del ruolo dell'utente
        cod_ruolo:
          type: string
          description: codice del ruolo dell'utente
        idOperatore:
          type: integer
          format: int64
          description: livello di autenticazione utilizzato per accedere
    CittadinoFaseQuestionario:
      type: object
      properties:
        idCittadino:
          $ref: "#/components/schemas/Cittadino"
        idFaseQuestionario:
          $ref: "#/components/schemas/FaseQuestionario"
      required: [idCittadino, idFaseQuestionario]
    FaseQuestionario:
      type: object
      properties:
        idFaseQuestionario:
          type: integer
          format: int32
        descrFaseQuestionario:
          type: string
      required: [idFaseQuestionario]
    Questionario:
      type: object
      properties:
        idQuestionario:
          type: integer
          format: int64
        domande:
          type: array
          items:
            $ref: '#/components/schemas/Domanda'
      required: [idQuestionario, domande]
    Domanda:
      type: object
      properties:
        idDomanda:
          type: integer
          format: int64
        testoDomanda:
          type: string
          nullable: true
        placeholder:
          type: string
          nullable: true
        tipoDomanda:
          type: string
          enum: [ aperta, chiusa, chiusa_scelta_multipla ]
        risposte:
          type: array
          items:
            $ref: '#/components/schemas/Risposta'
        idDomandaCondizionale:
          type: integer
          format: int64
        idRispostaCondizionale:
          type: integer
          format: int64
      required: [idDomanda, testoDomanda, tipoDomanda, risposte]
    Risposta:
      type: object
      properties:
        idRisposta:
          type: integer
          format: int64
        testoRisposta:
          type: string
        flgRichiestoDettaglio:
          type: boolean
        placeholder:
          type: string
          nullable: true
      required: [idRisposta, testoRisposta, flgRichiestoDettaglio]
    CompilazioneQuestionarioFase:
      type: object
      properties:
        compilazioneQuestionario:
          $ref: "#/components/schemas/CompilazioneQuestionario"
        faseQuestionario:
          $ref: "#/components/schemas/FaseQuestionario"
      required: [compilazioneQuestionario, faseQuestionario]
    CompilazioneQuestionario:
      type: object
      properties:
        idCompilazioneQuestionario:
          type: integer
          format: int64
        cittadino:
          $ref: "#/components/schemas/Cittadino"
        questionario:
          $ref: "#/components/schemas/Questionario"
      required: [idCompilazioneQuestionario, cittadino, questionario]
    RispostaCompilazione:
      type: object
      properties:
        idDomanda:
          type: integer
          format: int64
        rispostaLibera:
          type: string
        idRispostaScelta:
          type: integer
          format: int64
      required: [idDomanda]
    ValidatorTest:
      type: object
      properties:
        nome:
          type: string
          minLength: 3
          maxLength: 25
        cognome:
          type: string
          minLength: 3
          maxLength: 25
    Versione:
      type: object
      properties:
        versioneDev:
          type: string
        versioneTest:
          type: string
        versioneProd:
          type: string
    Errore:
      type: object
      properties:
        title:
          type: string
        status:
          type: integer
        code:
          type: integer
        messaggioCittadino:
          type: string
        errorMessage:
          type: string
        fields:
          type: string
          nullable: true
  responses:
    InvalidParameter:
      description: usata quando i campi non sono validati correttamente
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Errore'
    Forbidden:
      description: utente non autorizzato al caso d'uso
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Errore'