<!--
 * @license
 *
 * Copyright © 2025 Regione Piemonte
 *
 * Licensed under the EUPL, Version 1.2 or – as soon they will be
 * approved by the European Commission - subsequent versions of the
 * EUPL (the "Licence");
 *
 * You may not use this work except in compliance with the Licence.
 * You may obtain a copy of the Licence at:
 *
 * https://interoperable-europe.ec.europa.eu/collection/eupl/eupl-text-eupl-12
 * or
 * https://opensource.org/license/EUPL-1.2
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the Licence is distributed on an "AS IS" basis,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the Licence for the specific language governing permissions and
 * limitations under the Licence.
 -->

<div class="row">
  <button class="col-auto d-flex justify-content-start" mat-button aria-label="Indietro" (click)="tornaIndietro()"><mat-icon role="presentation">arrow_back</mat-icon></button>
</div>

<app-criteri-ricerca
  class="mb-5"

  [filterFor]="'ricerca_questionari'"
  (onSearch)="onSearch($event)">
</app-criteri-ricerca>


<div class="table-container-report mt-5" *ngIf="visibileTabella">
  <div class="row p-3 justify-content-end">
    <button mat-raised-button [disabled]="dataSource.data.length <=0"  [ngClass]="dataSource.data.length > 0 ? 'btn--plain-text--primary esporta-excel' : 'col-3' "  (click)="onDownload()">
      <i class="material-icons" role="presentation">file_download</i> ESPORTA EXCEL
    </button>
  </div>
  <mat-card>
  <mat-card-content>
      <app-table-questionario
        [dataSurce]="dataSource"
        [merge]="merge"
        [addColumn]="addColumn"
        [addColumnIndex]="addColumnIndex"
        >
      </app-table-questionario>
  </mat-card-content>
</mat-card>
<mat-paginator
    [length]="tableSettings.length"
    [pageIndex]="tableSettings.pageIndex"
    [pageSize]="tableSettings.pageSize"
    [pageSizeOptions]="tableSettings.pageSizeOptions"
    [showFirstLastButtons]="tableSettings.showFirstLastButtons"
    (page)="onSearch(filtro,$event)"
    #paginator>
</mat-paginator>
</div>

