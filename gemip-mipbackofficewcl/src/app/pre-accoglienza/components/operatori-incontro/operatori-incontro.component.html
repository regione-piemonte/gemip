<!--
 * @license
 *
 * Copyright © 2025 Regione Piemonte
 *
 * Licensed under the EUPL, Version 1.2 or – as soon they will be
 * approved by the European Commission - subsequent versions of the
 * EUPL (the "Licence");
 *
 * You may not use this work except in compliance with the Licence.
 * You may obtain a copy of the Licence at:
 *
 * https://interoperable-europe.ec.europa.eu/collection/eupl/eupl-text-eupl-12
 * or
 * https://opensource.org/license/EUPL-1.2
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the Licence is distributed on an "AS IS" basis,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the Licence for the specific language governing permissions and
 * limitations under the Licence.
 -->

<mat-card>
  <mat-card-header>
    <mat-card-title>
        <h5 class="mb-5">Elenco operatori partecipanti</h5>
    </mat-card-title>
  </mat-card-header>

<form [formGroup]="formOperatori">
  <mat-card-content class="container-fluid">
  <div class="row">

  <ng-container *ngIf="canModify && !isStampa">
    <mat-form-field class="col-md-6 col-sm-12"  appearance="legacy">
      <mat-label>Aggiungi operatore</mat-label>
      <mat-select
              formControlName="operatore">
        <mat-option *ngFor="let operatore of operatori | async" [value]="operatore.id">
          {{operatore.cognome+" "+operatore.nome}}
        </mat-option>
      </mat-select>
      <mat-error>
        <app-control-messages [control]="formOperatori.controls['operatore']|castFromControl"></app-control-messages>
      </mat-error>
    </mat-form-field>

    <div class="col-md-6 col-sm-12">
      <button mat-button
              class="btn btn--primary"
              aria-label="aggiungi operatore"
      (click)="onAggiungiOperatore()">AGGIUNGI</button>
    </div>
  </ng-container>


    <!-- Tabella -->
    <div class="mt-5">
    <app-table
      *ngIf="visibleTable"
      [rowData]="rowData"
      [tableSettings]="tableSettings"
      [columnList]="columnList"
      [isStampa]="isStampa">
    </app-table>
    </div>

  </div>
  </mat-card-content>
</form>
</mat-card>
